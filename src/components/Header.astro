---
import { getButtonClass } from "./Button/getButtonClass";
import { Bars3Icon, PhoneIcon, XMarkIcon } from "./Icons";
---

<header
	x-data="{ isScrolled: false, mobileMenuOpen: false }"
	x-init="
    window.addEventListener('scroll', () => {
      isScrolled = window.scrollY > 10;
    });
  "
	:class="[isScrolled ? 'bg-white shadow-md py-2' : 'bg-transparent py-4', mobileMenuOpen ? 'bg-white shadow-md' : '']"
	class="fixed top-0 left-0 w-full z-50 transition-all duration-300"
	@click.away="mobileMenuOpen = false"
>
	<div class="container mx-auto px-4 md:px-6 flex items-center justify-between">
		<div class="flex items-center">
			<a href="/" class="flex items-center">
				<img
					src="/icons/any-size.svg"
					alt="Maloney Legal Logo"
					class="mr-2 size-10 rounded-full"
				/>
				<div>
					<h1
						class="text-custom-navy font-playfair font-bold text-lg md:text-xl leading-tight"
					>
						Law Office of<br />
						<span class="text-sm md:text-base">Stacey Maloney, PLLC</span>
					</h1>
				</div>
			</a>
		</div>

		<nav class="hidden md:flex items-center space-x-8">
			<a
				href="#services"
				class="text-custom-navy hover:text-accent-9 transition-colors font-medium"
				>Practice Areas</a
			>
			<a
				href="#about"
				class="text-custom-navy hover:text-accent-9 transition-colors font-medium"
				>About</a
			>
			<a
				href="#process"
				class="text-custom-navy hover:text-accent-9 transition-colors font-medium"
				>Process</a
			>
			<a
				href="#contact"
				class="text-custom-navy hover:text-accent-9 transition-colors font-medium"
				>Contact</a
			>
		</nav>

		<div class="hidden md:flex items-center">
			<a
				href="tel:+19413018877"
				class="hidden items-center text-custom-navy hover:text-accent-9 transition-colors mr-6 lg:flex"
			>
				<PhoneIcon class="mr-2 size-5" />
				<span class="font-medium">Free Consultation</span>
			</a>
			<a href="#contact" class={getButtonClass({ variant: "solid" })}
				>Book Now</a
			>
		</div>

		<button
			class="md:hidden text-custom-navy"
			@click="mobileMenuOpen = !mobileMenuOpen"
		>
			<template x-if="mobileMenuOpen">
				<XMarkIcon class="size-6" />
			</template>
			<template x-if="!mobileMenuOpen">
				<Bars3Icon class="size-6" />
			</template>
		</button>
	</div>

	<!-- Mobile Menu -->
	<div x-show="mobileMenuOpen" class="md:hidden" x-transition>
		<div class="container mx-auto px-4 py-4">
			<nav class="flex flex-col space-y-4">
				<a
					href="#services"
					class="text-custom-navy hover:text-accent-9 transition-colors font-medium py-2"
					@click="mobileMenuOpen = false">Practice Areas</a
				>
				<a
					href="#about"
					class="text-custom-navy hover:text-accent-9 transition-colors font-medium py-2"
					@click="mobileMenuOpen = false">About</a
				>
				<a
					href="#process"
					class="text-custom-navy hover:text-accent-9 transition-colors font-medium py-2"
					@click="mobileMenuOpen = false">Process</a
				>
				<a
					href="#contact"
					class="text-custom-navy hover:text-accent-9 transition-colors font-medium py-2"
					@click="mobileMenuOpen = false">Contact</a
				>
				<div class="pt-2">
					<a href="#contact" class={getButtonClass({ variant: "solid" })}
						>Book Free Consultation</a
					>
				</div>
			</nav>
		</div>
	</div>
</header>
