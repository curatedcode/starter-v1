---
import { Bars3Icon, XMarkIcon } from "../Icons";
import MobileNavLink from "./MobileNavLink.astro";
import NavLink from "./NavLink.astro";
---

<nav
	class="w-full bg-white shadow-md pt-4 sticky top-0 z-50"
	x-data="{ isMenuOpen: false }"
>
	<div class="container mx-auto px-4 flex justify-between items-center pb-4">
		<a href="/" class="flex items-center">
			<span class="text-3xl font-handwritten font-bold text-custom-brown"
				>The Cookie Cottage</span
			>
		</a>

		<!-- Desktop Menu -->
		<div class="hidden md:flex space-x-8">
			<NavLink href="/">Home</NavLink>
			<NavLink href="/about">About Us</NavLink>
			<NavLink href="/products">Products</NavLink>
			<NavLink href="/blog">Blog</NavLink>
			<NavLink href="/contact">Order/Contact</NavLink>
			<NavLink href="/faq">FAQ</NavLink>
		</div>

		<!-- Mobile Menu Button -->
		<button
			class="md:hidden"
			@click="isMenuOpen = !isMenuOpen"
			aria-label="Toggle menu"
		>
			<Bars3Icon x-show="!isMenuOpen" aria-hidden="true" />
			<XMarkIcon x-show="isMenuOpen" aria-hidden="true" />
		</button>
	</div>

	<!-- Mobile Menu -->
	<div
		class="md:hidden bg-white py-4 px-4 shadow-inner"
		x-show="isMenuOpen"
		@click.outside="isMenuOpen = false"
		x-transition:enter="transition ease-out duration-200"
		x-transition:enter-start="opacity-0 -translate-y-4"
		x-transition:enter-end="opacity-100 translate-y-0"
		x-transition:leave="transition ease-in duration-100"
		x-transition:leave-start="opacity-100 translate-y-0"
		x-transition:leave-end="opacity-0 -translate-y-4"
	>
		<div class="flex flex-col space-y-2.5">
			<MobileNavLink href="/" @click="isMenuOpen = false">Home</MobileNavLink>
			<MobileNavLink href="/about" @click="isMenuOpen = false"
				>About Us</MobileNavLink
			>
			<MobileNavLink href="/products" @click="isMenuOpen = false"
				>Products</MobileNavLink
			>
			<MobileNavLink href="/contact" @click="isMenuOpen = false"
				>Order/Contact</MobileNavLink
			>
			<MobileNavLink href="/blog" @click="isMenuOpen = false"
				>Blog</MobileNavLink
			>
			<MobileNavLink href="/faq" @click="isMenuOpen = false">FAQ</MobileNavLink>
		</div>
	</div>
</nav>
