---
import Button from "./Button";
import { getButtonClass } from "./Button/getButtonClass";
import { CalendarDaysIcon } from "./Icons";
import ChatBubbleLeftIcon from "./Icons/ChatBubbleLeftIcon.astro";
import DocumentCheckIcon from "./Icons/DocumentCheckIcon.astro";
import HandshakeIcon from "./Icons/HandshakeIcon.astro";

const steps = [
	{
		icon: "calendar",
		title: "Schedule a Consultation",
		description:
			"Book your free initial consultation by phone or through our online form. We'll find a time that works for your schedule.",
	},
	{
		icon: "chat",
		title: "Discuss Your Needs",
		description:
			"During your consultation, we'll discuss your legal needs, answer questions, and outline potential solutions tailored to your situation.",
	},
	{
		icon: "document",
		title: "Develop a Plan",
		description:
			"Based on your consultation, we'll create a personalized legal strategy that addresses your specific goals and requirements.",
	},
	{
		icon: "handshake",
		title: "Implementation",
		description:
			"We'll guide you through every step of the legal process with clear communication and dedicated support.",
	},
] as const;
---

<section id="process" class="py-16 md:py-24 bg-gray-50">
	<div class="container mx-auto px-4 md:px-6">
		<div class="text-center mb-16">
			<h2 class="text-3xl md:text-4xl font-playfair font-bold text-custom-navy">
				Our Consultation Process
			</h2>
			<p class="mt-4 text-lg text-gray-700 max-w-2xl mx-auto">
				Getting the legal help you need is simple. Here's how we work with you:
			</p>
		</div>

		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
			{
				steps.map((step, index) => (
					<div class="relative">
						<div class="bg-white border border-gray-4 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow h-full flex flex-col">
							<div class="mb-4 flex items-center justify-center h-16 w-16 rounded-full bg-custom-navy/5 mx-auto">
								{step.icon === "calendar" && (
									<CalendarDaysIcon class="size-10 text-accent-9" />
								)}
								{step.icon === "chat" && (
									<ChatBubbleLeftIcon class="size-10 text-accent-9" />
								)}
								{step.icon === "document" && (
									<DocumentCheckIcon class="size-10 text-accent-9" />
								)}
								{step.icon === "handshake" && (
									<HandshakeIcon class="size-10 text-accent-9" />
								)}
							</div>
							<h3 class="text-xl font-playfair font-bold text-custom-navy text-center mb-3">
								{step.title}
							</h3>
							<p class="text-gray-600 text-center flex-grow">
								{step.description}
							</p>
							<div class="flex justify-center mt-4">
								<div class="h-8 w-8 rounded-full bg-custom-navy/10 flex items-center justify-center text-custom-navy font-medium">
									{index + 1}
								</div>
							</div>
						</div>

						{index < steps.length - 1 && (
							<div class="hidden lg:block absolute top-1/2 -right-4 w-8 h-0.5 bg-gray-300">
								<div class="absolute right-0 top-1/2 transform -translate-y-1/2 h-2 w-2 bg-gray-300 rounded-full" />
							</div>
						)}
					</div>
				))
			}
		</div>

		<div class="mt-16 text-center">
			<div
				class="inline-block border border-gray-4 bg-white p-6 rounded-lg shadow-md"
			>
				<p class="text-lg font-medium text-custom-navy mb-2">
					Ready to get started?
				</p>
				<p class="text-gray-600 mb-4">Schedule your free consultation today.</p>
				<a href="#contact" class={getButtonClass({ variant: "solid" })}>
					Book Free Consultation
				</a>
			</div>
		</div>
	</div>
</section>
